# 第2章 基本文法と4大命令

SQL文を書くための基本的なルールについて紹介します。

そしてデータを操作する4つの命令、SELECT、UPDATE、DELETE、INSERTについて全体を俯瞰したうえで、ここに詳しくみていきましょう。

<details><summary>2.1 SQLの基本ルール</summary>

### 2.1.1 記述形式に関するルール
- SQLに共通する基本ルール(1)
    - 文の途中に改行を入れることができる。
    - 行の先頭や行の途中に半角の空白を入れることができる。

SQLは文の途中で改行することが許されています。また、行の先頭や行の途中に空白を入れることも可能です。これらのルールを活用して、読みやすく整形されたSQL文の記述を心がけましょう。

一行で記述されたSELECT文

```sql
SELECT 費目, 出金額 FROM 家計簿 WHERE 出金額 > 3000
```

整形されたSELECT文

```sql
SELECT 費目, 出金額
　FROM 家計簿
 WHERE 出金額 > 3000
```

- 末尾のセミコロンで文の終了を表す
    
    文中に改行を含むことができるSQLの特性は、わかりやすいSQL文を書くためにはとても重宝します。一方で、複数のSQL文を続けて記述する場合などには、どこの文に区切りがあるのかが分かりにくいというデメリットがあります。そこで、1つのSQL文の末尾にセミコロン記号(;)を付けることにより、文の区切りを明示することがあります。
    
```sql
SELECT *
FROM 家計簿; # ここまででSELECT文終了
DELETE FROM 家計簿;# ここまででDELETE文終了
```

本書では、複数のSQL文を1つのリストとして掲載する場合のみ、セミコロンを付けています。


### 2.1.2 コメントに関する2つのルール
    
コメントの記述方法には、次の2つのルールがあります

- SQLに共通する基本ルール(2)
    - ハイフン2つ(- -)から行末まではコメントになり、無視される。
    - /* から*/まではコメントになり、無視される。

コメントを記述したSQL

```sql
/* 入出金表示用SQL バージョン0.1
   作成者:朝香あゆみ 作成日:2018-02-01 */
SELECT 入金額, 出金額  -- 金額関連の列のみ表示
  FROM 家計簿
```

改行や空白による生計とコメントを併せて活用することにより、後で見た時や、チームで共有した時にわかりやすいSQL文の記述が可能になります。


### 2.1.3 予約語に関するルール
    
SQL文に記述できる語句についてのルール。

- SQLに共通する基本ルール(3)
    - SELECTやWHEREなどの命令に使う単語は、SQLとして特別な意味を持つ「予約語」である。
    - 予約語を記述する際は、大文字と小文字の区別はない。
    - テーブル名や列名に予約語を利用することはできない。
    
    SELECTやWHEREなどの一部の単語は、SQLの機能として特別な意味を持つため、列名などに使うことはできません。これを予約語(keyword)といいます。
    
    SQLの文中では、予約語を大文字と小文字のどちらで書いても同じ意味になります。たとえば、
    
    ```sql
    select * FROM 家計簿
    ```
    
    でも
    
    ```sql
    Select * froM 家計簿
    ```
    
    でも同じように動作しますが、できるだけ判別しやすい書き方にすることをお薦めします。すでに会社やプロジェクトでルールが定められていればそれに従うと良いでしょう。
    
    なお、列名やテーブル名について、大文字と小文字を区別するかどうかは、DBMS製品や動作するOS、設定などによって異なります。  
