# 第4章 検索結果の加工
SELECT文は基本的に、抽出の対象である選択列リスト、抽出元であるFROM句、抽出の条件であるWHERE句から成り立っています。

さらにSELECT文には、検索した結果を加工し、目的に合わせた形に整形する指示を加えることもできます。

この章ではSELECT文にスポットを当て、その多様な修飾方法を見ていきましょう。


<details><summary>4.1 検索結果の加工</summary>

### 4.1.1 SELECT文だけに可能な修飾
SQLの4大命令
| 命令 | 各命令で固有の部分 | 対象行の絞り込み | 検索結果の加工 |
| --- | --- | --- | --- |
| SELECT | 列名…FROM　テーブル名 | WHERE | その他修飾 |
| UPDATE | テーブル名　SET　列名　=　値… | WHERE |  |
| DELETE | FROM　テーブル名 | WHERE |  |
| INSERT | INTO　テーブル名(列名…)　VALUES(値…) |  |  |
前章では、INSERT文以外のSQLに共通して利用可能なWHERE句について学びました。そして第Ⅰ部最後のこの章では、さらにSELECT文にだけ付けることのできる修飾について紹介していきます。

SELECT文専用の修飾は、どれも「SELECT文によって得られた検索結果をさまざまな形に加工するためのもの」です。多くのDBMSでは、SELECTによる検索とともに加工も行われますが、2段階の処理を考えるとイメージしやすいでしょう。

- ステップ①：通常の検索実行
- ステップ②：検索結果を加工
    - 並び替えや、重複行の排除など

次節からは修飾の具体的な内容として、6つの修飾語を順に紹介していきます。

検索結果を加工する主なキーワード
| キーワード | 内容 | 解説 |
| --- | --- | --- |
| DISTINCT | 検索結果から重複行を除外する | 4.2 節 |
| ORDER BY | 検索結果の順序を並べ替える | 4.3 節 |
| OFFSET - FETCH | 検索結果から件数を限定して取得する | 4.4 節 |
| UNION | 検索結果に他の検索結果を足し合わせる | 4.5 節 |
| EXCEPT | 検索結果から他の検索結果を差し引く | 4.5 節 |
| INTERSECT | 検索結果と他の検索結果で重複する部分を取得する | 4.5 節 |
  </details>


<details><summary>4.2 DISTINCT — 重複行を除外する</summary>

### 
