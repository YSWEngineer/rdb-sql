# 📖スッキリわかるSQL入門

# 第0章 データベースを学ぶにあたって
私たちが日常的に利用するインターネット検索やSNSはもちろん、物流や金融といった社会基盤の多くが、情報システムに支えられています。その中枢で必ず使われているのが「データベース」です。

本書では、現代社会と情報システムに欠かせない存在であるデータベースについて学んでいきますが、まずはその全体像とロードマップを眺めてみましょう。

<details><summary>0.1 データベースを学ぼう</summary>
        
### 0.1.1 データベースとSQL  
- ATMの利用、チケットの予約、インターネットショッピング、オンラインゲームなどの仕組みの中枢で活躍しているのがデータベースです。
  データベースに格納されている情報は、専用の操作言語SQLを利用して、外部からアクセスして検索したり書き換えたりします。
  SQLの上達の近道は、実際に手を動かしてたくさんのSQL文を書き、実行してみることです。</details></details>

# 第1章 はじめてのSQL
第1章では、データベースの概要を紹介します。読み進めながら、頭の中に大まかなイメージを描いてみてください。
    
<details><summary>1.1 データベースとは</summary>

### 1.1.1 データベースってなんだろう
    
   狭い意味でデータベース(database)とは、検索や書き換え、分析などのデータ管理を目的として様々な情報を蓄積したものを指します。特にITの世界では、電子的な媒体にファイルなどの形式で保存・蓄積したものを言います。
   現在、分野を問わず広く用いられているのが複数の表の形式でデータを管理するリレーショナルデータベース(RDB:Relational Database)です。

- RDBの基本構造
- RDBには複数の表が入っており、ここの表をテーブル(table)という。
- 個々のテーブルには名前が付いており、その名前をテーブル名という。
- テーブルは列(column：カラム)と行(low：ロウ)で構成される。
- 1つの行が1件のデータに対応し、列はそのデータの要素に対応する。

 ※列のことをカラムやフィールドと呼ぶこともある。


たとえば、「社員」という名前が付いているテーブルには、社員の情報が格納されています。このテーブルには社員番号や名前といった社員に関する要素が列として存在し、社員1人ひとりに関する情報が一行ずつ格納されています。

| 社員番号 | 氏名 | 年齢 | 出身地 |
| --- | --- | --- | --- |
| 0101 | 菅原拓真 | 31 | 福岡県 |
| 0104 | 大江岳人 | 30 | 京都府 |
| 0108 | 立花いずみ | 29 | 千葉県 |
| 0292 | 朝香あゆみ | 24 | 北海道 |
| 0293 | 湊雄輔 | 22 | 千葉県 |

RDBとは、このような表形式の情報の集積であって、その実態は上図のような構造のデータを含んだただのファイルです。
            
そして、私たちは、SQLというデータベースを操作する専用の言語で書かれた命令を使って、これらのテーブルから特定の列や行のデータを自由に取り出したり、書き換えたりすることができます。
            
### 1.1.2 データベース管理システム(DBMS)
            
私たちがSQLを送る相手は、データベースファイルではなく、データベース管理システム(DBMS:Database Management System)と呼ばれるプログラムです。DBMSはコンピュータ内で常に稼働してSQLを待ち受けており、届いたSQLの内容に従って、データベースファイルの内容を検索したり書き換えたりする処理を実行してくれます。
            
ITの世界では、「データベースファイルとそれを管理するDBMS全体」と単にデータベースと表現することも多いので注意すること。
            
### 1.1.4 データベースにSQLを送るには
            
通常、DBMSに対しては、ネットワーク経由でSQLに送ります。この送信は各データベースが定める特有の手順や形式に従う必要があるため、たとえばメールソフトなどを使ってSQLを送ることはできません。</details>


<details><summary>1.2 はじめてのSQL</summary>

### 1.2.2 検索してみよう

- テーブル名および列名
    
    テーブルや列の名付け方は、会社やプロジェクトによってルールが定められていることがほとんどです。たいていは、次の3つの方法のいずれかでしょう。
    
    - 日本語　　(例)家計簿、費目
    - ローマ字　(例)KAKEIBO、HIMOKU
    - 英語　　　(例)HOUSEKIIPING_BOOK、EXPENSE_ITEM
    
    いずれの方法にも長短があります。ネーミングルールが定められていない場合、判読性や利用するDBMSの動作保証などを勘案して名前を付けてください。
    
    なお、実際の開発や設計では、DBMSの動作安定性を優先して日本語名を避けることも多くあります。
    
- リスト1-2 全ての列を検索する
    
    
    | 日付 | 費目 | メモ | 入金額 | 出金額 |
    | --- | --- | --- | --- | --- |
    | 2018-02-03 | 食費 | コーヒーを購入 | 0 | 380 |
    | 2018-02-10 | 給料 | 1月の給料 | 280000 | 0 |
    | 2018-02-11 | 教養娯楽費 | 書籍を購入 | 0 | 2800 |
    | 2018-02-14 | 交際費 | 同期会の会費 | 0 | 5000 |
    | 2018-02-18 | 水道光熱費 | 1月の電気代 | 0 | 7560 |
    
    SELECTには目的とする列名を、FROMには検索したいテーブル名を記述します。
    
- リスト1-3 すべての列を取得する(簡略記法)
    
    列の指定に「＊」を記述すると、「すべての列」を取得します。


### 1.2.3 条件付きの検索
    
- WHEREは行を指定する。
    
### 1.2.4 データを追加してみよう
    
- INSERT INTO(インサートイントゥ)で追加先のテーブルを、VALUES(バリューズ)で追加するデータを指定する。
    
### 1.2.5 データを更新してみよう
    
- UPDATEでデータを修正する。
    
### 1.2.6 データを削除してみよう
    
- DELETEでデータを削除する。
    
    - 3命令の動作
        - SELECT文：ある条件を満たす行を探す→その行の内容を取得する
        - UPDATE文：ある条件を満たす行を探す→その行の内容を書き換える
        - DELETE文：ある条件を満たす行を探す→その行を削除する
        
        これらの3つの命令は、「目的の行に対する処理内容」それぞれ異なるものの、「目的のデータを探し当てるまで」は全く同じ動作です。目的の行を探すためのWHEREは、全く同じ書き方をすることができるのです。</details>


<details><summary>1.3 この章のまとめ</summary>

### 1.3.1 この章で学習した内容
データベースの概要

- データベースとは、管理や分析を目的としてさまざまなデータを蓄積したものを指す。
- ITにおけるデータベースの実態は、通常、ファイルである。
- データベースはデータベース管理システム(DBMS:Database Management System)によって管理される。
- 現在、さまざまなDBMSがソフトウェア製品として公開されている。
- 複数のテーブルの形式でデータを管理するものをリレーショナルデータベースという。
- テーブルには名前が付いており、行(low)と列(column)から構成される。

SQLの概要

- SQLは、データベースやデータを操作するための専門言語である。
- SQLで書かれた命令(SQL文)をDBMSに送信することで、データの検索・追加・更新・削除などを行うことができる。
- SQLを送信するには、ドライバを用いたプログラムを新しく開発するか、既存の送信プログラムを利用する。
- SQLの文法は利用するDBMS製品によって少しずつ異なるが、基本的な部分は同じである。</details>
